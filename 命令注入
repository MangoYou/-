PHP命令执行函数
  在php中，以下函数均用来执行命令
  1、system：执行一个外部的应用程序并显示输出的结果
  2、exec：执行一个外部的应用程序
  3、passthru：执行一个Unix系统命令并显示原始的输出
  4、shell_exec：执行shell命令并返回输出结果的字符串
  5、"""运算符：与shell_exec函数功能相同
  
  
实例代码：
<?php
$cmd = $_GET["c"];
echo "<pre>";
system($cmd);
echo "</pre>";
>


系统命令注入场景
在对企业进行安全测试时候，很少会发现系统注入漏洞。这是因为大部分情况下代码业务主要是数据操作、文件操作、逻辑处理和api接口调用等，很少直接使用系统命令。  

那么，都会有什么情况会调用系统命令呢？这个真不一定，有时候需要靠猜靠运气，不过代码不会无缘无故调用系统命令，细心研究还是会查到一些迹象的。比如对于图片处理、大文件压缩解压、ppt转pdf等，如果目标网站或者服务器接口提供这样的功能，一般情况下代码都会调用第三方软件，这里举几个例子：  

1. 图片加水印 

接口（为了避免出发论坛的图片转换，刻意打成了下面这个样子）:

http ：／／w ww。test。com／add_water? src=test。jp  g 

经测试，此接口会对test.jpg加水印。

猜测代码如下：

$image = $_GET("image");
exec("/use/bin/water " . "/var/www/image/" . $image);
water是系统安装的加水印程序，image是接受的参数，此时image存在命令注入的可能。

2. ppt转pdf

猜测代码如下：

<?php
$ppt = $_GET("ppt");
exec("/use/bin/ppt2pdf " . "/var/www/ppt/" . $ppt);
 和上面原理类似，ppt后面可以加命令注入攻击语句。
除了可能调用系统软件的这种情况，对于很多参数是url地址的，我们也要特别注意。如果某个程序为了省事，直接调用了系统curl命令，那么我们就可以直接注入了。再有就是ping检测功能，以及可能存在网络通讯协议、网络健康监测等功能附近，这些地方都有可能存在系统命令注入。
